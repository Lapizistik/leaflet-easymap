!function(e){var t={};function o(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(i,r,function(t){return e[t]}.bind(null,r));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3)}([function(e,t,o){"use strict";var i='&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors';L.easymap={attribution:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> | <a href="https://lapizistik.github.io/leaflet-easymap" title="Include maps in HTML without programming">Easymap</a>',config:{provider:{osm_org:{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",options:{attribution:i}},opencycle:{url:"http://{s}.tile.opencyclemap.org/cycle/{z}/{x}/{y}.png",options:{attribution:"&copy; OpenCycleMap, Map data "+i}}},default_provider:"osm_org",origin:[51.48,0],zoom:14,iconsizes:{small:18,medium:26,large:34},class:"leasymap"},makiurl:"maki/icons/{maki}-15.svg"}},function(e,t){if(!("L"in window))throw new ReferenceError("You must load Leaflet to use Leasymap!")},,function(e,t,o){"use strict";o.r(t);o(1),o(0);var i='<svg style="width:{iconwidth};" viewBox="-10.5 -30.5 21 31.4" xmlns="http://www.w3.org/2000/svg"><path d="m 0,0 c 0,0 -10,-15 -10,-20 0,-5 5,-10 10,-10 5,0 10,5 10,10 C 10,-15 0,0 0,0 Z" style="fill:{marker-color};stroke:{stroke};stroke-width:{stroke-width};" />{inner}</svg>',r='<text x="0" y="-15" text-anchor="middle" style="stroke:none;fill:{marker-symbolcolor}">{text}</text>',n='<svg x="-7" y="-25" width="14" height="14" style="fill:{marker-symbolcolor};"></svg>',a='<circle r="4.2" cy="-20" cx="0" style="fill:{marker-symbolcolor};stroke:{stroke};stroke-width:{stroke-width};" />',s=L.DivIcon.extend({options:{className:"svg-icon",iconSize:L.easymap.config.iconsizes.medium,"marker-color":"#7e7e7e","marker-symbolcolor":"#ffffff",stroke:"#555555","stroke-width":.3,"stroke-opacity":1},initialize:function(e){if((e=L.Util.setOptions(this,e)).iconSize=L.easymap.config.iconsizes[e["marker-size"]]||e.iconSize,!isNaN(e.iconSize)){var t=e.iconSize;e.iconSize=[t,1.48*t]}if(e.iconAnchor=[e.iconSize[0]/2,e.iconSize[1]],e.popupAnchor=[0,-.8*e.iconSize[1]],e.tooltipAnchor=[0,-.6*e.iconSize[1]],e.shadowSize=e.shadowSize||.8*e.iconSize[1],!isNaN(e.shadowSize)){var o=e.shadowSize;e.shadowSize=[o,.5*o]}e.shadowAnchor=[.1*e.shadowSize[0],1.2*e.shadowSize[1]]},createIcon:function(e){var t=this.options;function o(e,t,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE&&200===i.status){for(var t=i.responseXML.getElementsByTagName("svg")[0],o=e.firstElementChild.getElementsByTagName("svg")[0],r=o.attributes,n=0;n<r.length;n++)t.setAttributeNode(r[n].cloneNode());o.parentNode.replaceChild(t,o)}},i.open("GET",L.Util.template(function(e){return L.Util.template(L.easymap.makiurl,{maki:e})}(t))),i.send()}var s=function(e,t){var s,l=L.extend({iconwidth:t.iconSize[0]},t);l.inner=(s=t["marker-symbol"]||t.symbol,/^[a-zA-Z0-9]$/.test(s)?(l.text=s,L.Util.template(r,l)):s?(o(e,s),L.Util.template(n,l)):L.Util.template(a,l));var c=L.Util.template(i,l);return e.innerHTML=c,e}(document.createElement("div"),t);return this._setIconStyles(s,"icon"),s},createShadow:function(e){var t=document.createElement("div"),o=L.Util.template('<svg style="width:{iconwidth};" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><filter id="f" height="1.7" y="-0.2" width="1.4" x="-0.2"><feGaussianBlur stdDeviation="1.5491099" /></filter></defs><path d="m 2,18 c 1.4,-2 1,-3.5 3,-6.5 1.5,-3 6.8,-7 10,-8 3,-1 5,-0.8 7,0 1.6,0.9 3.5,1.8 3,3 -0.4,1 0,3 -2,5 -2,1.8 -5.7,3 -9,4 -3.4,1 -8.8,2 -11,3 z" style="opacity:0.1;fill:#000;stroke:none;filter:url(#f);" /></svg>',{iconwidth:10*this.options.iconSize[0]});return t.innerHTML=o,this._setIconStyles(t,"shadow"),t}});function l(e,t,o,i){var r=new XMLHttpRequest;r.overrideMimeType("application/json"),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE&&200===r.status){var t=(a=r.responseText,JSON.parse(a,function(e,t){return c.test(e)&&p.test(t)?"#"+t:t})),n=L.geoJSON(t,L.easymap.geojson).addTo(e);o&&e.fitBounds(n.getBounds()),i&&n.bindTooltip(i)}var a},r.open("GET",t),r.send()}L.easymap.geojson={style:function(e){return e.properties&&e.properties.pathoptions||{}},pointToLayer:function(e,t){return L.marker(t,{icon:(o=e.properties,new s(o))});var o},onEachFeature:function(e,t){!function(e,t){var o=function(e){var t=e.properties.popupTemplate||e.popupTemplate;if(t)return t;var o="",i=e.properties.title,r=e.properties.description;i&&(o=o+"<h2>"+i+"</h2>");r&&(o=o+"<p>"+r+"</p>");if(o)return'<div class="feature">'+o+"</div>";return null}(e);if(!o)return;var i={autoClose:e.properties.autoclose};t.bindPopup(o,i);e.properties.openpopup&&t.openPopup()}(e,t);var o=e.properties.tooltip||e.properties.title;o&&t.bindTooltip(o);var i=e.properties.style||e.properties.css||e.style;t.setStyle&&t.setStyle(i)}};var c=/^(?:(?:marker-(?:symbol)?)?colou?r|stroke|fill)$/,p=/^(?:[0-9a-fA-F]{3,4}){1,2}$/;function u(e,t){return e.getAttribute("data-"+t)}function d(e,t){var o=e.attributes,i=t&&L.extend({},t)||{},r=u(e,"attribution");r&&(i.attribution=r);for(var n=0;n<o.length;n++){var a=o[n].name.match(/^data-provider-(.*)$/);a&&a[1]&&(i[a[1]]=o[n].value)}return i}var f='<svg style="width:{iconwidth};" viewBox="-10.5 -30.5 21 31.4" xmlns="http://www.w3.org/2000/svg"><path d="m 0,0 c 0,0 -10,-15 -10,-20 0,-5 5,-10 10,-10 5,0 10,5 10,10 C 10,-15 0,0 0,0 Z" style="fill:{marker-color};stroke:{stroke};stroke-width:{stroke-width};" />{inner}</svg>',m='<text x="0" y="-15" text-anchor="middle" style="stroke:none;fill:{marker-symbolcolor}">{text}</text>',h='<svg x="-7" y="-25" width="14" height="14" style="fill:{marker-symbolcolor};"></svg>',y='<circle r="4.2" cy="-20" cx="0" style="fill:{marker-symbolcolor};stroke:{stroke};stroke-width:{stroke-width};" />';L.DivIcon.extend({options:{className:"svg-icon",iconSize:L.easymap.config.iconsizes.medium,"marker-color":"#7e7e7e","marker-symbolcolor":"#ffffff",stroke:"#555555","stroke-width":.3,"stroke-opacity":1},initialize:function(e){if((e=L.Util.setOptions(this,e)).iconSize=L.easymap.config.iconsizes[e["marker-size"]]||e.iconSize,!isNaN(e.iconSize)){var t=e.iconSize;e.iconSize=[t,1.48*t]}if(e.iconAnchor=[e.iconSize[0]/2,e.iconSize[1]],e.popupAnchor=[0,-.8*e.iconSize[1]],e.tooltipAnchor=[0,-.6*e.iconSize[1]],e.shadowSize=e.shadowSize||.8*e.iconSize[1],!isNaN(e.shadowSize)){var o=e.shadowSize;e.shadowSize=[o,.5*o]}e.shadowAnchor=[.1*e.shadowSize[0],1.2*e.shadowSize[1]]},createIcon:function(e){var t=this.options;function o(e,t,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE&&200===i.status){for(var t=i.responseXML.getElementsByTagName("svg")[0],o=e.firstElementChild.getElementsByTagName("svg")[0],r=o.attributes,n=0;n<r.length;n++)t.setAttributeNode(r[n].cloneNode());o.parentNode.replaceChild(t,o)}},i.open("GET",L.Util.template(function(e){return L.Util.template(L.easymap.makiurl,{maki:e})}(t))),i.send()}var i=function(e,t){var i,r=L.extend({iconwidth:t.iconSize[0]},t);r.inner=(i=t["marker-symbol"]||t.symbol,/^[a-zA-Z0-9]$/.test(i)?(r.text=i,L.Util.template(m,r)):i?(o(e,i),L.Util.template(h,r)):L.Util.template(y,r));var n=L.Util.template(f,r);return e.innerHTML=n,e}(document.createElement("div"),t);return this._setIconStyles(i,"icon"),i},createShadow:function(e){var t=document.createElement("div"),o=L.Util.template('<svg style="width:{iconwidth};" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><defs><filter id="f" height="1.7" y="-0.2" width="1.4" x="-0.2"><feGaussianBlur stdDeviation="1.5491099" /></filter></defs><path d="m 2,18 c 1.4,-2 1,-3.5 3,-6.5 1.5,-3 6.8,-7 10,-8 3,-1 5,-0.8 7,0 1.6,0.9 3.5,1.8 3,3 -0.4,1 0,3 -2,5 -2,1.8 -5.7,3 -9,4 -3.4,1 -8.8,2 -11,3 z" style="opacity:0.1;fill:#000;stroke:none;filter:url(#f);" /></svg>',{iconwidth:10*this.options.iconSize[0]});return t.innerHTML=o,this._setIconStyles(t,"shadow"),t}});function v(e){var t=u(e,"marker"),o=u(e,"tooltip"),i=u(e,"popup"),r=t&&t.split(","),n=function(e,t){return"TRUE"==(u(e,t)||"").toUpperCase()}(e,"locate"),a=function(e,t){var o=u(e,"origin"),i=o&&o.split(",")||t&&t.slice(0)||L.easymap.config.origin.slice(0),r=u(e,"lat"),n=u(e,"lon");return r&&(i[0]=r),n&&(i[1]=n),i}(e,r),s=u(e,"zoom")||L.easymap.config.zoom,c=u(e,"geojson"),p=L.map(e,{worldCopyJump:!0});"geojson"!=a&&p.setView(a,s),function(e){e.attributionControl&&e.attributionControl.setPrefix(L.easymap.attribution)}(p),n&&p.locate({setView:!0});var f=function(e,t){if("none"===e)return!1;if(L.tileLayer.provider&&L.tileLayer.provider.known(e))return L.tileLayer.provider(e,d(t));var o=L.easymap.config.provider[e];if(!o)throw"No such provider ("+e+")";return L.tileLayer(o.url,d(t,o.options))}(u(e,"provider")||L.easymap.config.default_provider,e);f&&f.addTo(p);var m=r&&L.marker(r).addTo(p),h=i&&L.popup({closeOnClick:!1}).setContent(i);h&&(m?m.bindPopup(h).openPopup():h.setLatLng(a).openOn(p)),c&&l(p,c,"geojson"==a,!m&&o),o&&(m?m.bindTooltip(o).openTooltip():c||f.bindTooltip(o).openTooltip(a))}var g=!1;function w(){g||(L.tileLayer.provider&&!L.tileLayer.provider.known&&(L.tileLayer.provider.known=function(e){return!!L.TileLayer.Provider.providers[e.split(".")[0]]}),function(e){for(var t=document.getElementsByClassName(e||L.easymap.config.class),o=0;o<t.length;o++)v(t[o])}(),g=!0)}document.addEventListener("DOMContentLoaded",w),"loading"!==document.readyState&&w(),console.log(L)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdGVzdC1sZWFmbGV0LmpzIiwid2VicGFjazovLy8uL3NyYy9zdmdpY29uLmpzIiwid2VicGFjazovLy8uL3NyYy9nZW9qc29uLmpzIiwid2VicGFjazovLy8uL3NyYy9pbml0LmpzIiwid2VicGFjazovLy8uL3NyYy9sZWFmbGV0LWVhc3ltYXAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJvc21fYXR0ciIsIkwiLCJlYXN5bWFwIiwiYXR0cmlidXRpb24iLCJjb25maWciLCJwcm92aWRlciIsIm9zbV9vcmciLCJ1cmwiLCJvcHRpb25zIiwib3BlbmN5Y2xlIiwiZGVmYXVsdF9wcm92aWRlciIsIm9yaWdpbiIsInpvb20iLCJpY29uc2l6ZXMiLCJzbWFsbCIsIm1lZGl1bSIsImxhcmdlIiwiY2xhc3MiLCJtYWtpdXJsIiwid2luZG93IiwiUmVmZXJlbmNlRXJyb3IiLCJzdmdUZW1wbGF0ZSIsInN2Z1RleHRUZW1wbGF0ZSIsInN2Z0ltZ1RlbXBsYXRlIiwic3ZnY2lyY2xldGVtcGxhdGUiLCJTVkdJY29uIiwiRGl2SWNvbiIsImV4dGVuZCIsImNsYXNzTmFtZSIsImljb25TaXplIiwic3Ryb2tlIiwiaW5pdGlhbGl6ZSIsIlV0aWwiLCJzZXRPcHRpb25zIiwidGhpcyIsImlzTmFOIiwic2l6ZSIsImljb25BbmNob3IiLCJwb3B1cEFuY2hvciIsInRvb2x0aXBBbmNob3IiLCJzaGFkb3dTaXplIiwic2hhZG93QW5jaG9yIiwiY3JlYXRlSWNvbiIsIm9sZEljb24iLCJhZGRNYWtpU1ZHIiwiZGl2Iiwic3ltYm9sIiwicGFyYW1zIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsIkRPTkUiLCJzdGF0dXMiLCJyc3ZnIiwicmVzcG9uc2VYTUwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlzdmciLCJmaXJzdEVsZW1lbnRDaGlsZCIsImlhdHRycyIsImF0dHJpYnV0ZXMiLCJsZW5ndGgiLCJzZXRBdHRyaWJ1dGVOb2RlIiwiY2xvbmVOb2RlIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsIm9wZW4iLCJ0ZW1wbGF0ZSIsIm1ha2kiLCJtYWtpaW1nIiwic2VuZCIsImljb253aWR0aCIsImlubmVyIiwidGVzdCIsInRleHQiLCJzdmciLCJpbm5lckhUTUwiLCJzZXRTVkciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJfc2V0SWNvblN0eWxlcyIsImNyZWF0ZVNoYWRvdyIsImFkZEdlb0pTT04iLCJtYXAiLCJwYW4yIiwidG9vbHRpcHRleHQiLCJvdmVycmlkZU1pbWVUeXBlIiwianNvbiIsImpzb250eHQiLCJyZXNwb25zZVRleHQiLCJKU09OIiwicGFyc2UiLCJQUk9QS0VZUyIsIlBST1BDT0xPUlMiLCJsYXllciIsImdlb0pTT04iLCJnZW9qc29uIiwiYWRkVG8iLCJmaXRCb3VuZHMiLCJnZXRCb3VuZHMiLCJiaW5kVG9vbHRpcCIsInN0eWxlIiwiZmVhdHVyZSIsInByb3BlcnRpZXMiLCJwYXRob3B0aW9ucyIsInBvaW50VG9MYXllciIsImxhdGxuZyIsIm1hcmtlciIsImljb24iLCJvbkVhY2hGZWF0dXJlIiwiY29udGVudCIsInBvcHVwVGVtcGxhdGUiLCJodG1sIiwidGl0bGUiLCJkZXNjIiwiZGVzY3JpcHRpb24iLCJwb3B1cGh0bWwiLCJwb3B1cG9wdGlvbnMiLCJhdXRvQ2xvc2UiLCJhdXRvY2xvc2UiLCJiaW5kUG9wdXAiLCJvcGVucG9wdXAiLCJvcGVuUG9wdXAiLCJnZW9qc29uUG9wdXAiLCJ0b29sdGlwIiwiY3NzIiwic2V0U3R5bGUiLCJkYXRhIiwiZWxlbSIsImF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJwcm92aWRlck9wdGlvbnMiLCJkZWZhdWx0cyIsImF0dHJzIiwicGFycyIsIm1hdGNoIiwibWFwcGlmeSIsIm1hcmtlcnR4dCIsInBvcHVwdHh0IiwibXBvcyIsInNwbGl0IiwibG9jYXRlIiwidG9VcHBlckNhc2UiLCJib29sZGF0YSIsInNsaWNlIiwibGF0IiwibG9uIiwiZ2V0T3JpZ2luIiwid29ybGRDb3B5SnVtcCIsInNldFZpZXciLCJhdHRyaWJ1dGlvbkNvbnRyb2wiLCJzZXRQcmVmaXgiLCJhdHRyaWJ1dGVFYXN5bWFwIiwiYmFzZSIsInRpbGVMYXllciIsImtub3duIiwicG9wdXAiLCJjbG9zZU9uQ2xpY2siLCJzZXRDb250ZW50Iiwic2V0TGF0TG5nIiwib3Blbk9uIiwib3BlblRvb2x0aXAiLCJkb25lIiwiaW5pdF9vbmNlIiwiVGlsZUxheWVyIiwiUHJvdmlkZXIiLCJwcm92aWRlcnMiLCJjbHMiLCJtYXBzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIm1hcHBpZnlfZW0iLCJhZGRFdmVudExpc3RlbmVyIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtB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UyxRQUFRQyxJQUFJNUsiLCJmaWxlIjoibGVhZmxldC1lYXN5bWFwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIERlZmF1bHQgY29uZmlnXG5jb25zdCBvc21fYXR0ciA9ICcmY29weTsgPGEgaHJlZj1cImh0dHA6Ly9vc20ub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycyc7XG5cbi8vIFRvRG86IGRvIG5vdCBvdmVyd3JpdGUgY29uZmlnIHNldCBiZWZvcmVcbkwuZWFzeW1hcCA9IHtcblx0XHRhdHRyaWJ1dGlvbjogJzxhIGhyZWY9XCJodHRwOi8vbGVhZmxldGpzLmNvbVwiIHRpdGxlPVwiQSBKUyBsaWJyYXJ5IGZvciBpbnRlcmFjdGl2ZSBtYXBzXCI+TGVhZmxldDwvYT4gfCA8YSBocmVmPVwiaHR0cHM6Ly9sYXBpemlzdGlrLmdpdGh1Yi5pby9sZWFmbGV0LWVhc3ltYXBcIiB0aXRsZT1cIkluY2x1ZGUgbWFwcyBpbiBIVE1MIHdpdGhvdXQgcHJvZ3JhbW1pbmdcIj5FYXN5bWFwPC9hPicsXG5cdFx0Y29uZmlnOiB7XG5cdFx0XHRcdHByb3ZpZGVyOiB7XG5cdFx0XHRcdFx0XHRvc21fb3JnOiB7XG5cdFx0XHRcdFx0XHRcdFx0dXJsOiAnaHR0cDovL3tzfS50aWxlLm9zbS5vcmcve3p9L3t4fS97eX0ucG5nJyxcblx0XHRcdFx0XHRcdFx0XHRvcHRpb25zOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGF0dHJpYnV0aW9uOiBvc21fYXR0clxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRvcGVuY3ljbGU6IHtcblx0XHRcdFx0XHRcdFx0XHR1cmw6ICdodHRwOi8ve3N9LnRpbGUub3BlbmN5Y2xlbWFwLm9yZy9jeWNsZS97en0ve3h9L3t5fS5wbmcnLFxuXHRcdFx0XHRcdFx0XHRcdG9wdGlvbnM6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXR0cmlidXRpb246ICcmY29weTsgT3BlbkN5Y2xlTWFwLCBNYXAgZGF0YSAnK29zbV9hdHRyXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRkZWZhdWx0X3Byb3ZpZGVyOiBcIm9zbV9vcmdcIixcblx0XHRcdFx0b3JpZ2luOiBbNTEuNDgsIDBdLFxuXHRcdFx0XHR6b29tOjE0LFxuXHRcdFx0XHRpY29uc2l6ZXM6IHtcblx0XHRcdFx0XHRcdHNtYWxsOiAxOCxcblx0XHRcdFx0XHRcdG1lZGl1bTogMjYsXG5cdFx0XHRcdFx0XHRsYXJnZTogMzRcblx0XHRcdFx0fSxcblx0XHRcdFx0Y2xhc3M6ICdsZWFzeW1hcCdcblx0XHR9LFxuXHRcdG1ha2l1cmw6IFwibWFraS9pY29ucy97bWFraX0tMTUuc3ZnXCJcbn07XG5cblxuIiwiXG5pZighKFwiTFwiIGluIHdpbmRvdykpIHtcblx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJZb3UgbXVzdCBsb2FkIExlYWZsZXQgdG8gdXNlIExlYXN5bWFwIVwiKTtcbn1cbiIsIlxuLypcbiAqIFNWRy1iYXNlZCBtYXJrZXJzIGZvciBnZW9qc29uXG4gKiBpbmNsdWRpbmcgc3VwcG9ydCBmb3IgbWFraS1tYXJrZXJzXG4gKi9cbmNvbnN0IHN2Z1RlbXBsYXRlID0gJzxzdmcgc3R5bGU9XCJ3aWR0aDp7aWNvbndpZHRofTtcIiB2aWV3Qm94PVwiLTEwLjUgLTMwLjUgMjEgMzEuNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwibSAwLDAgYyAwLDAgLTEwLC0xNSAtMTAsLTIwIDAsLTUgNSwtMTAgMTAsLTEwIDUsMCAxMCw1IDEwLDEwIEMgMTAsLTE1IDAsMCAwLDAgWlwiIHN0eWxlPVwiZmlsbDp7bWFya2VyLWNvbG9yfTtzdHJva2U6e3N0cm9rZX07c3Ryb2tlLXdpZHRoOntzdHJva2Utd2lkdGh9O1wiIC8+e2lubmVyfTwvc3ZnPic7XG5cbmNvbnN0IHN2Z1RleHRUZW1wbGF0ZSA9ICc8dGV4dCB4PVwiMFwiIHk9XCItMTVcIiB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiIHN0eWxlPVwic3Ryb2tlOm5vbmU7ZmlsbDp7bWFya2VyLXN5bWJvbGNvbG9yfVwiPnt0ZXh0fTwvdGV4dD4nO1xuXG5jb25zdCBzdmdJbWdUZW1wbGF0ZSA9ICc8c3ZnIHg9XCItN1wiIHk9XCItMjVcIiB3aWR0aD1cIjE0XCIgaGVpZ2h0PVwiMTRcIiBzdHlsZT1cImZpbGw6e21hcmtlci1zeW1ib2xjb2xvcn07XCI+PC9zdmc+JztcblxuY29uc3Qgc3ZnY2lyY2xldGVtcGxhdGUgPSAnPGNpcmNsZSByPVwiNC4yXCIgY3k9XCItMjBcIiBjeD1cIjBcIiBzdHlsZT1cImZpbGw6e21hcmtlci1zeW1ib2xjb2xvcn07c3Ryb2tlOntzdHJva2V9O3N0cm9rZS13aWR0aDp7c3Ryb2tlLXdpZHRofTtcIiAvPic7XG5cbmNvbnN0IHN2Z1NoYWRvd1RlbXBsYXRlID0gJzxzdmcgc3R5bGU9XCJ3aWR0aDp7aWNvbndpZHRofTtcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyOCAyOFwiPjxkZWZzPjxmaWx0ZXIgaWQ9XCJmXCIgaGVpZ2h0PVwiMS43XCIgeT1cIi0wLjJcIiB3aWR0aD1cIjEuNFwiIHg9XCItMC4yXCI+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj1cIjEuNTQ5MTA5OVwiIC8+PC9maWx0ZXI+PC9kZWZzPjxwYXRoIGQ9XCJtIDIsMTggYyAxLjQsLTIgMSwtMy41IDMsLTYuNSAxLjUsLTMgNi44LC03IDEwLC04IDMsLTEgNSwtMC44IDcsMCAxLjYsMC45IDMuNSwxLjggMywzIC0wLjQsMSAwLDMgLTIsNSAtMiwxLjggLTUuNywzIC05LDQgLTMuNCwxIC04LjgsMiAtMTEsMyB6XCIgc3R5bGU9XCJvcGFjaXR5OjAuMTtmaWxsOiMwMDA7c3Ryb2tlOm5vbmU7ZmlsdGVyOnVybCgjZik7XCIgLz48L3N2Zz4nO1xuXG5cdFx0XG5jb25zdCBTVkdJY29uID0gTC5EaXZJY29uLmV4dGVuZCh7XG5cdFx0b3B0aW9uczoge1xuXHRcdFx0XHRjbGFzc05hbWU6ICdzdmctaWNvbicsXG5cdFx0XHRcdGljb25TaXplIDogTC5lYXN5bWFwLmNvbmZpZy5pY29uc2l6ZXNbJ21lZGl1bSddLFxuXHRcdFx0XHQnbWFya2VyLWNvbG9yJzogJyM3ZTdlN2UnLFxuXHRcdFx0XHQnbWFya2VyLXN5bWJvbGNvbG9yJzogJyNmZmZmZmYnLFxuXHRcdFx0XHRzdHJva2U6ICcjNTU1NTU1Jyxcblx0XHRcdFx0J3N0cm9rZS13aWR0aCc6IDAuMyxcblx0XHRcdFx0J3N0cm9rZS1vcGFjaXR5JzogMVxuXHRcdFx0XHRcblx0XHR9LFxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0XHRcdFx0b3B0aW9ucyA9IEwuVXRpbC5zZXRPcHRpb25zKHRoaXMsIG9wdGlvbnMpO1xuXHRcdFx0XHRcblx0XHRcdFx0b3B0aW9ucy5pY29uU2l6ZSA9XG5cdFx0XHRcdFx0XHRMLmVhc3ltYXAuY29uZmlnLmljb25zaXplc1tvcHRpb25zWydtYXJrZXItc2l6ZSddXSB8fFxuXHRcdFx0XHRcdFx0b3B0aW9ucy5pY29uU2l6ZTtcblx0XHRcdFx0aWYgKCFpc05hTihvcHRpb25zLmljb25TaXplKSkge1xuXHRcdFx0XHRcdFx0Y29uc3Qgc2l6ZSA9IG9wdGlvbnMuaWNvblNpemU7XG5cdFx0XHRcdFx0XHRvcHRpb25zLmljb25TaXplID0gW3NpemUsIHNpemUqMS40OF07XG5cdFx0XHRcdH1cblx0XHRcdFx0b3B0aW9ucy5pY29uQW5jaG9yID0gW29wdGlvbnMuaWNvblNpemVbMF0vMiwgb3B0aW9ucy5pY29uU2l6ZVsxXV07XG5cdFx0XHRcdG9wdGlvbnMucG9wdXBBbmNob3IgPSBbMCwgLTAuOCpvcHRpb25zLmljb25TaXplWzFdXTtcblx0XHRcdFx0b3B0aW9ucy50b29sdGlwQW5jaG9yID0gWzAsIC0wLjYqb3B0aW9ucy5pY29uU2l6ZVsxXV07XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBhbmQgdGhlIHNoYWRvd1xuXHRcdFx0XHRvcHRpb25zLnNoYWRvd1NpemUgPSBvcHRpb25zLnNoYWRvd1NpemUgfHwgMC44Km9wdGlvbnMuaWNvblNpemVbMV07XG5cdFx0XHRcdGlmICghaXNOYU4ob3B0aW9ucy5zaGFkb3dTaXplKSkge1xuXHRcdFx0XHRcdFx0Y29uc3Qgc2l6ZSA9IG9wdGlvbnMuc2hhZG93U2l6ZTtcblx0XHRcdFx0XHRcdG9wdGlvbnMuc2hhZG93U2l6ZSA9IFtzaXplLCBzaXplKjAuNV07XG5cdFx0XHRcdH1cblx0XHRcdFx0b3B0aW9ucy5zaGFkb3dBbmNob3IgPSBbMC4xKm9wdGlvbnMuc2hhZG93U2l6ZVswXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0MS4yKm9wdGlvbnMuc2hhZG93U2l6ZVsxXV07XG5cdFx0fSxcblx0XHRjcmVhdGVJY29uOiBmdW5jdGlvbihvbGRJY29uKSB7XG5cdFx0XHRcdGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cdFx0XHRcdFxuXHRcdFx0XHRmdW5jdGlvbiBtYWtpaW1nKHN5bWJvbCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIEwuVXRpbC50ZW1wbGF0ZShMLmVhc3ltYXAubWFraXVybCwge21ha2k6IHN5bWJvbH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRmdW5jdGlvbiBhZGRNYWtpU1ZHKGRpdiwgc3ltYm9sLCBwYXJhbXMpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRcdFx0XHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB4bWwgPSByZXF1ZXN0LnJlc3BvbnNlWE1MO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCByc3ZnID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdmcnKVswXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgaXN2ZyA9IGRpdi5maXJzdEVsZW1lbnRDaGlsZC5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N2ZycpWzBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBpYXR0cnMgPSBpc3ZnLmF0dHJpYnV0ZXM7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb3IodmFyIGk9MDsgaTxpYXR0cnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJzdmcuc2V0QXR0cmlidXRlTm9kZShpYXR0cnNbaV0uY2xvbmVOb2RlKCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvKlx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZvcih2YXIgaT0wOyBpPHJzdmcuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpc3ZnLmFwcGVuZENoaWxkKHJzdmcuY2hpbGRyZW5baV0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ki9cblx0XHRcdFx0XHRcdFx0XHRcdFx0aXN2Zy5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChyc3ZnLCBpc3ZnKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdHJlcXVlc3Qub3BlbignR0VUJywgTC5VdGlsLnRlbXBsYXRlKG1ha2lpbWcoc3ltYm9sKSkpO1xuXHRcdFx0XHRcdFx0cmVxdWVzdC5zZW5kKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdFxuXHRcdFx0XHRmdW5jdGlvbiBzZXRTVkcoZGl2LCBvcHRpb25zKSB7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGNvbnN0IHBhcmFtcyA9IEwuZXh0ZW5kKHtcblx0XHRcdFx0XHRcdFx0XHRpY29ud2lkdGg6IG9wdGlvbnMuaWNvblNpemVbMF1cblx0XHRcdFx0XHRcdH0sIG9wdGlvbnMpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRmdW5jdGlvbiBpbm5lcihzeW1ib2wpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoL15bYS16QS1aMC05XSQvLnRlc3Qoc3ltYm9sKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwYXJhbXMudGV4dCA9IHN5bWJvbDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIEwuVXRpbC50ZW1wbGF0ZShzdmdUZXh0VGVtcGxhdGUsIHBhcmFtcyk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmIChzeW1ib2wpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWRkTWFraVNWRyhkaXYsIHN5bWJvbCwgcGFyYW1zKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIEwuVXRpbC50ZW1wbGF0ZShzdmdJbWdUZW1wbGF0ZSwgcGFyYW1zKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIEwuVXRpbC50ZW1wbGF0ZShzdmdjaXJjbGV0ZW1wbGF0ZSwgcGFyYW1zKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0cGFyYW1zLmlubmVyID0gaW5uZXIob3B0aW9uc1tcIm1hcmtlci1zeW1ib2xcIl0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IG9wdGlvbnMuc3ltYm9sKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Y29uc3Qgc3ZnID0gTC5VdGlsLnRlbXBsYXRlKHN2Z1RlbXBsYXRlLCBwYXJhbXMpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gc3ZnO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpdjtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3QgZGl2ID0gXHRzZXRTVkcoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIG9wdGlvbnMpO1xuXHRcdFx0XHR0aGlzLl9zZXRJY29uU3R5bGVzKGRpdiwgJ2ljb24nKTtcblx0XHRcdFx0cmV0dXJuIGRpdjtcblx0XHR9LFxuXHRcdGNyZWF0ZVNoYWRvdzogZnVuY3Rpb24ob2xkSWNvbikge1xuXHRcdFx0XHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0Y29uc3Qgc3ZnID0gTC5VdGlsLnRlbXBsYXRlKHN2Z1NoYWRvd1RlbXBsYXRlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e2ljb253aWR0aDogdGhpcy5vcHRpb25zLmljb25TaXplWzBdKjEwfSk7XG5cdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBzdmc7XG5cdFx0XHRcdHRoaXMuX3NldEljb25TdHlsZXMoZGl2LCAnc2hhZG93Jyk7XG5cdFx0XHRcdHJldHVybiBkaXY7XG5cdFx0fVxufSk7XG5leHBvcnQgZnVuY3Rpb24gc3ZnSWNvbihvcHRpb25zKSB7XG5cdFx0cmV0dXJuIG5ldyBTVkdJY29uKG9wdGlvbnMpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBcIi4vY29uZmlnLmpzXCI7XG5pbXBvcnQge3N2Z0ljb259IGZyb20gXCIuL3N2Z2ljb24uanNcIjtcblxuTC5lYXN5bWFwLmdlb2pzb24gPSB7XG5cdFx0c3R5bGU6IGdlb2pzb25TdHlsZSxcblx0XHRwb2ludFRvTGF5ZXI6IGdlb2pzb25NYXJrZXIsXG5cdFx0b25FYWNoRmVhdHVyZTogZ2VvanNvbkZlYXR1cmVcbn07XG5cbmZ1bmN0aW9uIGdlb2pzb25NYXJrZXIoZmVhdHVyZSwgbGF0bG5nKSB7XG5cdFx0Ly8gVG9EbzogYWRkIHN1cHBvcnQgZm9yIGFkdmFuY2VkIG1hcmtlcnMvaWNvbnNcblx0XHRyZXR1cm4gTC5tYXJrZXIobGF0bG5nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7aWNvbjogc3ZnSWNvbihmZWF0dXJlLnByb3BlcnRpZXMpfSk7XG59XG5mdW5jdGlvbiBnZW9qc29uU3R5bGUoZmVhdHVyZSkge1xuXHRcdHJldHVybiAoZmVhdHVyZS5wcm9wZXJ0aWVzICYmIGZlYXR1cmUucHJvcGVydGllcy5wYXRob3B0aW9ucykgfHwge307XG59XG5mdW5jdGlvbiBnZW9qc29uRmVhdHVyZShmZWF0dXJlLCBsYXllcikge1xuXHRcdGdlb2pzb25Qb3B1cChmZWF0dXJlLCBsYXllcik7XG5cdFx0Y29uc3QgdG9vbHRpcCA9IGZlYXR1cmUucHJvcGVydGllcy50b29sdGlwIHx8IGZlYXR1cmUucHJvcGVydGllcy50aXRsZTtcblx0XHRpZiAodG9vbHRpcCkge1xuXHRcdFx0XHRsYXllci5iaW5kVG9vbHRpcCh0b29sdGlwKTtcblx0XHR9XG5cdFx0Y29uc3Qgc3R5bGUgPSBmZWF0dXJlLnByb3BlcnRpZXMuc3R5bGUgfHwgZmVhdHVyZS5wcm9wZXJ0aWVzLmNzcyB8fFxuXHRcdFx0XHRcdGZlYXR1cmUuc3R5bGU7IC8vIHdlIGFsc28gc3VwcG9ydCBnZW9qc29uQ1NTLWxpa2Ugc3R5bGluZ1xuXHRcdGlmIChsYXllci5zZXRTdHlsZSkge1xuXHRcdFx0XHRsYXllci5zZXRTdHlsZShzdHlsZSk7XG5cdFx0fVxufVxuZnVuY3Rpb24gcG9wdXBodG1sKGZlYXR1cmUpIHtcblx0XHQvLyB3ZSBzdXBwb3J0IGdlb2pzb25DU1MtbGlrZSBwb3B1cFRlbXBsYXRlXG5cdFx0Y29uc3QgdGVtcGxhdGUgPSBmZWF0dXJlLnByb3BlcnRpZXMucG9wdXBUZW1wbGF0ZSB8fCBmZWF0dXJlLnBvcHVwVGVtcGxhdGU7XG5cdFx0aWYodGVtcGxhdGUpIHsgcmV0dXJuIHRlbXBsYXRlOyB9XG5cdFx0dmFyIGh0bWwgPSBcIlwiO1xuXHRcdGNvbnN0IHRpdGxlID0gZmVhdHVyZS5wcm9wZXJ0aWVzLnRpdGxlO1xuXHRcdGNvbnN0IGRlc2MgPSBmZWF0dXJlLnByb3BlcnRpZXMuZGVzY3JpcHRpb247XG5cdFx0aWYgKHRpdGxlKSB7XG5cdFx0XHRcdGh0bWwgPSBodG1sICsgXCI8aDI+XCIgKyB0aXRsZSArIFwiPC9oMj5cIjtcblx0XHR9XG5cdFx0aWYgKGRlc2MpIHtcblx0XHRcdFx0aHRtbCA9IGh0bWwgKyBcIjxwPlwiICsgZGVzYyArIFwiPC9wPlwiO1xuXHRcdH1cblx0XHRpZiAoaHRtbCkge1xuXHRcdFx0XHRyZXR1cm4gJzxkaXYgY2xhc3M9XCJmZWF0dXJlXCI+JyArIGh0bWwgKyAnPC9kaXY+Jztcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZW9qc29uUG9wdXAoZmVhdHVyZSwgbGF5ZXIpIHtcblx0XHRjb25zdCBjb250ZW50ID0gcG9wdXBodG1sKGZlYXR1cmUpO1xuXHRcdGlmICghY29udGVudCkgeyByZXR1cm47IH1cblx0XHRjb25zdCBwb3B1cG9wdGlvbnMgPSB7IGF1dG9DbG9zZTogZmVhdHVyZS5wcm9wZXJ0aWVzLmF1dG9jbG9zZSB9O1xuXHRcdGNvbnN0IHBvcHVwID0gbGF5ZXIuYmluZFBvcHVwKGNvbnRlbnQsIHBvcHVwb3B0aW9ucyk7XG5cdFx0aWYgKGZlYXR1cmUucHJvcGVydGllcy5vcGVucG9wdXApIHtcblx0XHRcdFx0Ly8gaG0sIGRvZXMgbm90IHdvcmssIHNlZSBMZWFmbGV0IGJ1Z1xuXHRcdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vTGVhZmxldC9MZWFmbGV0L2lzc3Vlcy85NzFcblx0XHRcdFx0Ly8gVG9EbzogZml4IHRoaXNcblx0XHRcdFx0bGF5ZXIub3BlblBvcHVwKCk7XG5cdFx0fVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZEdlb0pTT04obWFwLCB1cmwsIHBhbjIsIHRvb2x0aXB0ZXh0KSB7XG5cdFx0Y29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdHJlcXVlc3Qub3ZlcnJpZGVNaW1lVHlwZShcImFwcGxpY2F0aW9uL2pzb25cIik7XG5cdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IFhNTEh0dHBSZXF1ZXN0LkRPTkUpICYmXG5cdFx0XHRcdFx0XHQocmVxdWVzdC5zdGF0dXMgPT09IDIwMCkpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGpzb24gPSBwYXJzZUdlb0pTT04ocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuXHRcdFx0XHRcdFx0Y29uc3QgbGF5ZXIgPSBMLmdlb0pTT04oanNvbiwgTC5lYXN5bWFwLmdlb2pzb24pLmFkZFRvKG1hcCk7XG5cdFx0XHRcdFx0XHRpZihwYW4yKSB7XG5cdFx0XHRcdFx0XHRcdFx0bWFwLmZpdEJvdW5kcyhsYXllci5nZXRCb3VuZHMoKSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAodG9vbHRpcHRleHQpIHsgbGF5ZXIuYmluZFRvb2x0aXAodG9vbHRpcHRleHQpOyB9XG5cdFx0XHRcdH1cblx0XHR9O1xuXHRcdHJlcXVlc3Qub3BlbignR0VUJywgdXJsKTtcblx0XHRyZXF1ZXN0LnNlbmQoKTtcbn1cblxuLy8gY29sb3IgcHJvcHMgZnJvbSBzeW1wbGVzdHlsZS1zcGVjICh3ZSBhZGRlZCB0aGUga2V5IFwiY29sb3JcIlxuY29uc3QgUFJPUEtFWVMgPSAvXig/Oig/Om1hcmtlci0oPzpzeW1ib2wpPyk/Y29sb3U/cnxzdHJva2V8ZmlsbCkkLztcbi8vIHRoZSBmb2xsb3dpbmcgcmVnZXhwIG1hdGNoZXMgc2hvcnQgYW5kIGxvbmcgUkdCIGFuZCBSR0JBIHN0cmluZ3MsXG4vLyBlLmcuIFwiMDA3XCIsIFwiNDcxMVwiLCBcImFmZmVcIiwgXCJjMDEwZmZcIiwgXCJiYmFhZGQwOGMwXCJcbi8vIEZvcnR1bmF0ZWx5LCBub25lIG9mIHRoZSAxNDAgY29sb3IgbmFtZXMgc3VwcG9ydGVkIGJ5IENTUyBtYXRjaGVzXG4vLyB0aGlzIHJlZ2V4cCwgc28gdGhleSBhcmUgcHJlc2VydmVkIDotKVxuY29uc3QgUFJPUENPTE9SUyA9IC9eKD86WzAtOWEtZkEtRl17Myw0fSl7MSwyfSQvO1xuXG5mdW5jdGlvbiBwYXJzZUdlb0pTT04oanNvbnR4dCkge1xuXHRcdC8vIFRoZSBzaW1wbGVzdHlsZS1zcGVjIGFsbG93cyBmb3IgaGV4IGNvbG9ycyB0byBvbWl0IHRoZSBgIycuXG5cdFx0Ly8gV2UgYXNzdW1lIGl0IGlzIHNhdmUgdG8gYWRkIGl0IGZvciBhIHNlbGVjdGVkIHNldCBvZiBwcm9wZXJ0aWVzLlxuXHRcdHJldHVybiBKU09OLnBhcnNlKGpzb250eHQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoUFJPUEtFWVMudGVzdChrZXkpICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRQUk9QQ09MT1JTLnRlc3QodmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gJyMnICsgdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vLyBUb0RvXG4vLyBUaGUgY29kZSBjb3VsZCB1c2Ugc29tZSBjbGVhbnVwIGFuZCBiZXR0ZXIgZG9jdW1lbnRhdGlvbi5cbi8vIEN1cnJlbnRseSBJIHB1dCBldmVyeXRoaW5nIGluIG9uZSBmaWxlLCBidXQgSSBzaG91bGQgc3dpdGNoIHRvIHNvbWVcbi8vIGJ1aWxkZXIvcHJlY29tcGlsZXIuXG4vLyBFc3BlY2lhbGx5IHRoZSBnZW9qc29uIG1hcmtlciBmZWF0dXJlIHN1cHBvcnQgZ3JldyBtdWNoIHRvbyBsYXJnZSBhbmQgbWVzc3kuXG4vL1xuLy8gSSBhbHNvIGRvbid0IHVzZSDigJxsZXTigJ0gdG8gc3RheSBjb21wYXRpYmxlIHdpdGggbW9yZSBicm93c2Vyc1xuLy8gKGJ1dCBJIHRyeSB0byBhdm9pZCDigJx2YXLigJ0gYnkgdXNpbmcg4oCcY29uc3TigJ0gd2hlcmVldmVyIHBvc3NpYmxlKVxuXG4vLyBsZXQncyBoYXZlIHNvbWUgYW5vbnltb3VzIGZ1bmN0aW9uIChhcyBhIHNjb3BlKVxuXG5cbmltcG9ydCB7YWRkR2VvSlNPTn0gZnJvbSBcIi4vZ2VvanNvbi5qc1wiO1xuXG5cdFx0ZnVuY3Rpb24gbW9ua2V5UGF0Y2hQbHVnaW5zKCkge1xuXHRcdFx0XHQvLyBNb25rZXktcGF0Y2hpbmcgbGVhZmxldC1wcm92aWRlcnNcblx0XHRcdFx0aWYoTC50aWxlTGF5ZXIucHJvdmlkZXIgJiYgIUwudGlsZUxheWVyLnByb3ZpZGVyLmtub3duKSB7XG5cdFx0XHRcdFx0XHRMLnRpbGVMYXllci5wcm92aWRlci5rbm93biA9IGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gISFMLlRpbGVMYXllci5Qcm92aWRlci5wcm92aWRlcnNbbmFtZS5zcGxpdCgnLicpWzBdXTtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBoYXZlIGRhdGEgYWNjZXNzb3Igc2ltaWxhciB0byBqUXVlcnlcblx0XHRmdW5jdGlvbiBkYXRhKGVsZW0sIGF0dHIpIHtcblx0XHRcdFx0Ly8gc2hvdWxkIHdlIHJldHVybiBhbiBhcnJheSBpZiBhdHRyIGlzIFwiW+KApl1cIiA/XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcImRhdGEtXCIgKyBhdHRyKTtcblx0XHR9XG5cdFx0ZnVuY3Rpb24gYm9vbGRhdGEoZWxlbSwgYXR0cikge1xuXHRcdFx0XHRyZXR1cm4gKChkYXRhKGVsZW0sIGF0dHIpfHxcIlwiKS50b1VwcGVyQ2FzZSgpID09IFwiVFJVRVwiKTtcblx0XHR9XHRcdFxuXG5cdFx0LyogXG5cdFx0ICogZGV0ZXJtaW5lIHRoZSBvcmlnaW4gZnJvbSBkYXRhIGF0dHJpYnV0ZXNcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBnZXRPcmlnaW4oZWxlbSwgbXBvcykge1xuXHRcdFx0XHRjb25zdCBkID0gZGF0YShlbGVtLCBcIm9yaWdpblwiKTtcblx0XHRcdFx0Y29uc3QgbyA9IChkICYmIGQuc3BsaXQoXCIsXCIpKSB8fCAgICAgICAgICAgICAvLyBvcmlnaW4gZ2l2ZW4gYXMgYXR0cmlidXRlXG5cdFx0XHRcdFx0XHRcdFx0XHQobXBvcyAmJiBtcG9zLnNsaWNlKDApKSB8fCAgICAgICAgIC8vIG9yIGFzIG1hcmtlciBwb3NpdGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0TC5lYXN5bWFwLmNvbmZpZy5vcmlnaW4uc2xpY2UoMCk7ICAvLyBvciB0aGUgZGVmYXVsdFxuXHRcdFx0XHRjb25zdCBsYXQgPSBkYXRhKGVsZW0sIFwibGF0XCIpOyAgICAgICAgICAgICAgIC8vIGRpcmVjdGx5IGdpdmVuIGxhdCBhbmQgbG9uXG5cdFx0XHRcdGNvbnN0IGxvbiA9IGRhdGEoZWxlbSwgXCJsb25cIik7ICAgICAgICAgICAgICAgLy8gaGF2ZSBoaWdoZXN0IHByaW9yaXR5XG5cdFx0XHRcdGlmKGxhdCkgeyBvWzBdID0gbGF0OyB9XG5cdFx0XHRcdGlmKGxvbikgeyBvWzFdID0gbG9uOyB9XG5cdFx0XHRcdHJldHVybiBvO1xuXHRcdH1cblxuXHRcdC8qXG5cdFx0ICogcGFyc2Ugb3B0aW9ucyBmb3IgcHJvdmlkZXJcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBwcm92aWRlck9wdGlvbnMoZWxlbSwgZGVmYXVsdHMpIHtcblx0XHRcdFx0Y29uc3QgYXR0cnMgPSBlbGVtLmF0dHJpYnV0ZXM7XG5cdFx0XHRcdGNvbnN0IG9wdGlvbnMgPSAoZGVmYXVsdHMgJiYgTC5leHRlbmQoe30sIGRlZmF1bHRzKSkgfHwge307XG5cdFx0XHRcdC8vIHdlIGFsbG93IGEgc2hvcnRjdXQgbmFtZSBmb3IgdGhlIGF0dHJpYnV0aW9uXG5cdFx0XHRcdGNvbnN0IGF0dHJpYnV0aW9uID0gZGF0YShlbGVtLCBcImF0dHJpYnV0aW9uXCIpO1xuXHRcdFx0XHRpZihhdHRyaWJ1dGlvbikgeyBvcHRpb25zLmF0dHJpYnV0aW9uID0gYXR0cmlidXRpb247IH1cblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBuYW1lID0gYXR0cnNbaV0ubmFtZTtcblx0XHRcdFx0XHRcdGNvbnN0IHBhcnMgPSBuYW1lLm1hdGNoKC9eZGF0YS1wcm92aWRlci0oLiopJC8pO1xuXHRcdFx0XHRcdFx0aWYgKHBhcnMgJiYgcGFyc1sxXSkge1xuXHRcdFx0XHRcdFx0XHRcdG9wdGlvbnNbcGFyc1sxXV0gPSBhdHRyc1tpXS52YWx1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gb3B0aW9ucztcblx0XHR9XG5cdFx0XG5cdFx0ZnVuY3Rpb24gdGlsZUxheWVyKG5hbWUsIGVsZW0pIHtcblx0XHRcdFx0aWYobmFtZSA9PT0gXCJub25lXCIpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHRcdC8vIGlzIHRoZSBsZWFmbGV0LXByb3ZpZGVycyBwbHVnaW4gbG9hZGVkP1xuXHRcdFx0XHRpZiAoTC50aWxlTGF5ZXIucHJvdmlkZXIgJiYgTC50aWxlTGF5ZXIucHJvdmlkZXIua25vd24obmFtZSkpIHtcblx0XHRcdFx0XHRcdHJldHVybiAgTC50aWxlTGF5ZXIucHJvdmlkZXIobmFtZSwgcHJvdmlkZXJPcHRpb25zKGVsZW0pKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVyID0gTC5lYXN5bWFwLmNvbmZpZy5wcm92aWRlcltuYW1lXTtcblx0XHRcdFx0XHRcdGlmKCFwcm92aWRlcikge1xuXHRcdFx0XHRcdFx0XHRcdHRocm93ICdObyBzdWNoIHByb3ZpZGVyICgnICsgbmFtZSArICcpJztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiBMLnRpbGVMYXllcihwcm92aWRlci51cmwsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgcHJvdmlkZXJPcHRpb25zKGVsZW0sIHByb3ZpZGVyLm9wdGlvbnMpKTtcblx0XHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qXG5cdFx0ICogU1ZHLWJhc2VkIG1hcmtlcnMgZm9yIGdlb2pzb25cblx0XHQgKiBpbmNsdWRpbmcgc3VwcG9ydCBmb3IgbWFraS1tYXJrZXJzXG5cdFx0ICovXG5cdFx0Y29uc3Qgc3ZnVGVtcGxhdGUgPSAnPHN2ZyBzdHlsZT1cIndpZHRoOntpY29ud2lkdGh9O1wiIHZpZXdCb3g9XCItMTAuNSAtMzAuNSAyMSAzMS40XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJtIDAsMCBjIDAsMCAtMTAsLTE1IC0xMCwtMjAgMCwtNSA1LC0xMCAxMCwtMTAgNSwwIDEwLDUgMTAsMTAgQyAxMCwtMTUgMCwwIDAsMCBaXCIgc3R5bGU9XCJmaWxsOnttYXJrZXItY29sb3J9O3N0cm9rZTp7c3Ryb2tlfTtzdHJva2Utd2lkdGg6e3N0cm9rZS13aWR0aH07XCIgLz57aW5uZXJ9PC9zdmc+Jztcblx0XHRcblx0XHRjb25zdCBzdmdUZXh0VGVtcGxhdGUgPSAnPHRleHQgeD1cIjBcIiB5PVwiLTE1XCIgdGV4dC1hbmNob3I9XCJtaWRkbGVcIiBzdHlsZT1cInN0cm9rZTpub25lO2ZpbGw6e21hcmtlci1zeW1ib2xjb2xvcn1cIj57dGV4dH08L3RleHQ+JztcblxuXHRcdGNvbnN0IHN2Z0ltZ1RlbXBsYXRlID0gJzxzdmcgeD1cIi03XCIgeT1cIi0yNVwiIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHN0eWxlPVwiZmlsbDp7bWFya2VyLXN5bWJvbGNvbG9yfTtcIj48L3N2Zz4nO1xuXG5cdFx0Y29uc3Qgc3ZnY2lyY2xldGVtcGxhdGUgPSAnPGNpcmNsZSByPVwiNC4yXCIgY3k9XCItMjBcIiBjeD1cIjBcIiBzdHlsZT1cImZpbGw6e21hcmtlci1zeW1ib2xjb2xvcn07c3Ryb2tlOntzdHJva2V9O3N0cm9rZS13aWR0aDp7c3Ryb2tlLXdpZHRofTtcIiAvPic7XG5cblx0XHRjb25zdCBzdmdTaGFkb3dUZW1wbGF0ZSA9ICc8c3ZnIHN0eWxlPVwid2lkdGg6e2ljb253aWR0aH07XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjggMjhcIj48ZGVmcz48ZmlsdGVyIGlkPVwiZlwiIGhlaWdodD1cIjEuN1wiIHk9XCItMC4yXCIgd2lkdGg9XCIxLjRcIiB4PVwiLTAuMlwiPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249XCIxLjU0OTEwOTlcIiAvPjwvZmlsdGVyPjwvZGVmcz48cGF0aCBkPVwibSAyLDE4IGMgMS40LC0yIDEsLTMuNSAzLC02LjUgMS41LC0zIDYuOCwtNyAxMCwtOCAzLC0xIDUsLTAuOCA3LDAgMS42LDAuOSAzLjUsMS44IDMsMyAtMC40LDEgMCwzIC0yLDUgLTIsMS44IC01LjcsMyAtOSw0IC0zLjQsMSAtOC44LDIgLTExLDMgelwiIHN0eWxlPVwib3BhY2l0eTowLjE7ZmlsbDojMDAwO3N0cm9rZTpub25lO2ZpbHRlcjp1cmwoI2YpO1wiIC8+PC9zdmc+JztcblxuXHRcdFxuXHRcdGNvbnN0IFNWR0ljb24gPSBMLkRpdkljb24uZXh0ZW5kKHtcblx0XHRcdFx0b3B0aW9uczoge1xuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiAnc3ZnLWljb24nLFxuXHRcdFx0XHRcdFx0aWNvblNpemUgOiBMLmVhc3ltYXAuY29uZmlnLmljb25zaXplc1snbWVkaXVtJ10sXG5cdFx0XHRcdFx0XHQnbWFya2VyLWNvbG9yJzogJyM3ZTdlN2UnLFxuXHRcdFx0XHRcdFx0J21hcmtlci1zeW1ib2xjb2xvcic6ICcjZmZmZmZmJyxcblx0XHRcdFx0XHRcdHN0cm9rZTogJyM1NTU1NTUnLFxuXHRcdFx0XHRcdFx0J3N0cm9rZS13aWR0aCc6IDAuMyxcblx0XHRcdFx0XHRcdCdzdHJva2Utb3BhY2l0eSc6IDFcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG5cdFx0XHRcdFx0XHRvcHRpb25zID0gTC5VdGlsLnNldE9wdGlvbnModGhpcywgb3B0aW9ucyk7XG5cblx0XHRcdFx0XHRcdG9wdGlvbnMuaWNvblNpemUgPVxuXHRcdFx0XHRcdFx0XHRcdEwuZWFzeW1hcC5jb25maWcuaWNvbnNpemVzW29wdGlvbnNbJ21hcmtlci1zaXplJ11dIHx8XG5cdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5pY29uU2l6ZTtcblx0XHRcdFx0XHRcdGlmICghaXNOYU4ob3B0aW9ucy5pY29uU2l6ZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBzaXplID0gb3B0aW9ucy5pY29uU2l6ZTtcblx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLmljb25TaXplID0gW3NpemUsIHNpemUqMS40OF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRvcHRpb25zLmljb25BbmNob3IgPSBbb3B0aW9ucy5pY29uU2l6ZVswXS8yLCBvcHRpb25zLmljb25TaXplWzFdXTtcblx0XHRcdFx0XHRcdG9wdGlvbnMucG9wdXBBbmNob3IgPSBbMCwgLTAuOCpvcHRpb25zLmljb25TaXplWzFdXTtcblx0XHRcdFx0XHRcdG9wdGlvbnMudG9vbHRpcEFuY2hvciA9IFswLCAtMC42Km9wdGlvbnMuaWNvblNpemVbMV1dO1xuXG5cdFx0XHRcdFx0XHQvLyBhbmQgdGhlIHNoYWRvd1xuXHRcdFx0XHRcdFx0b3B0aW9ucy5zaGFkb3dTaXplID0gb3B0aW9ucy5zaGFkb3dTaXplIHx8IDAuOCpvcHRpb25zLmljb25TaXplWzFdO1xuXHRcdFx0XHRcdFx0aWYgKCFpc05hTihvcHRpb25zLnNoYWRvd1NpemUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3Qgc2l6ZSA9IG9wdGlvbnMuc2hhZG93U2l6ZTtcblx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLnNoYWRvd1NpemUgPSBbc2l6ZSwgc2l6ZSowLjVdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zaGFkb3dBbmNob3IgPSBbMC4xKm9wdGlvbnMuc2hhZG93U2l6ZVswXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDEuMipvcHRpb25zLnNoYWRvd1NpemVbMV1dO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjcmVhdGVJY29uOiBmdW5jdGlvbihvbGRJY29uKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHRcdFx0XHRmdW5jdGlvbiBtYWtpaW1nKHN5bWJvbCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBMLlV0aWwudGVtcGxhdGUoTC5lYXN5bWFwLm1ha2l1cmwsIHttYWtpOiBzeW1ib2x9KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gYWRkTWFraVNWRyhkaXYsIHN5bWJvbCwgcGFyYW1zKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdFx0XHRcdFx0XHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICgocmVxdWVzdC5yZWFkeVN0YXRlID09PSBYTUxIdHRwUmVxdWVzdC5ET05FKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KHJlcXVlc3Quc3RhdHVzID09PSAyMDApKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB4bWwgPSByZXF1ZXN0LnJlc3BvbnNlWE1MO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgcnN2ZyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBpc3ZnID0gZGl2LmZpcnN0RWxlbWVudENoaWxkLlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdmcnKVswXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGlhdHRycyA9IGlzdmcuYXR0cmlidXRlcztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9yKHZhciBpPTA7IGk8aWF0dHJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cnN2Zy5zZXRBdHRyaWJ1dGVOb2RlKGlhdHRyc1tpXS5jbG9uZU5vZGUoKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cbi8qXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9yKHZhciBpPTA7IGk8cnN2Zy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlzdmcuYXBwZW5kQ2hpbGQocnN2Zy5jaGlsZHJlbltpXSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG4gKi9cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlzdmcucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQocnN2ZywgaXN2Zyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0cmVxdWVzdC5vcGVuKCdHRVQnLCBMLlV0aWwudGVtcGxhdGUobWFraWltZyhzeW1ib2wpKSk7XG5cdFx0XHRcdFx0XHRcdFx0cmVxdWVzdC5zZW5kKCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gc2V0U1ZHKGRpdiwgb3B0aW9ucykge1xuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IHBhcmFtcyA9TC5leHRlbmQoe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpY29ud2lkdGg6IG9wdGlvbnMuaWNvblNpemVbMF1cblx0XHRcdFx0XHRcdFx0XHR9LCBvcHRpb25zKTtcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbiBpbm5lcihzeW1ib2wpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKC9eW2EtekEtWjAtOV0kLy50ZXN0KHN5bWJvbCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBhcmFtcy50ZXh0ID0gc3ltYm9sO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIEwuVXRpbC50ZW1wbGF0ZShzdmdUZXh0VGVtcGxhdGUsIHBhcmFtcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHN5bWJvbCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWRkTWFraVNWRyhkaXYsIHN5bWJvbCwgcGFyYW1zKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBMLlV0aWwudGVtcGxhdGUoc3ZnSW1nVGVtcGxhdGUsIHBhcmFtcyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIEwuVXRpbC50ZW1wbGF0ZShzdmdjaXJjbGV0ZW1wbGF0ZSwgcGFyYW1zKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRwYXJhbXMuaW5uZXIgPSBpbm5lcihvcHRpb25zW1wibWFya2VyLXN5bWJvbFwiXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IG9wdGlvbnMuc3ltYm9sKTtcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBzdmcgPSBMLlV0aWwudGVtcGxhdGUoc3ZnVGVtcGxhdGUsIHBhcmFtcyk7XG5cblx0XHRcdFx0XHRcdFx0XHRkaXYuaW5uZXJIVE1MID0gc3ZnO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBkaXY7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnN0IGRpdiA9IFx0c2V0U1ZHKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLCBvcHRpb25zKTtcblx0XHRcdFx0XHRcdHRoaXMuX3NldEljb25TdHlsZXMoZGl2LCAnaWNvbicpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpdjtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3JlYXRlU2hhZG93OiBmdW5jdGlvbihvbGRJY29uKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRcdFx0XHRcdGNvbnN0IHN2ZyA9IEwuVXRpbC50ZW1wbGF0ZShzdmdTaGFkb3dUZW1wbGF0ZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7aWNvbndpZHRoOiB0aGlzLm9wdGlvbnMuaWNvblNpemVbMF0qMTB9KTtcblx0XHRcdFx0XHRcdGRpdi5pbm5lckhUTUwgPSBzdmc7XG5cdFx0XHRcdFx0XHR0aGlzLl9zZXRJY29uU3R5bGVzKGRpdiwgJ3NoYWRvdycpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpdjtcblx0XHRcdFx0fVxuXHRcdH0pO1xuXHRcdGZ1bmN0aW9uIHN2Z0ljb24ob3B0aW9ucykge1xuXHRcdFx0XHRyZXR1cm4gbmV3IFNWR0ljb24ob3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Lypcblx0XHQgKiBwcm9jZXNzIGdlb0pTT04gZmlsZXNcblx0XHQgKi9cblxuXG5cdFx0XG5cblxuXG5cblx0XHRmdW5jdGlvbiBhdHRyaWJ1dGVFYXN5bWFwKG1hcCkge1xuXHRcdFx0XHQvLyB0aGUgYXR0cmlidXRpb25jb250cm9sIHByb3BlcnR5IGlzIG5vdCBwYXJ0IG9mIHRoZSBvZmZpY2lhbFxuXHRcdFx0XHQvLyBsZWFmbGV0IGFwaSwgc28gd2UgdGVzdCBmb3IgaXRcblx0XHRcdFx0aWYgKG1hcC5hdHRyaWJ1dGlvbkNvbnRyb2wpIHtcblx0XHRcdFx0XHRcdG1hcC5hdHRyaWJ1dGlvbkNvbnRyb2wuc2V0UHJlZml4KEwuZWFzeW1hcC5hdHRyaWJ1dGlvbik7XG5cdFx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0LyogXG5cdFx0ICogY3JlYXRlIHRoZSBtYXAgb24gZWxlbVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIG1hcHBpZnkoZWxlbSkge1xuXHRcdFx0XHQvLyByZWFkIHRoZSBkYXRhIGF0dHJpYnV0ZXNcblx0XHRcdFx0Y29uc3QgbWFya2VydHh0ID0gZGF0YShlbGVtLCBcIm1hcmtlclwiKTtcblx0XHRcdFx0Y29uc3QgdG9vbHRpcHRleHQgPSBkYXRhKGVsZW0sIFwidG9vbHRpcFwiKTtcblx0XHRcdFx0Y29uc3QgcG9wdXB0eHQgPSBkYXRhKGVsZW0sIFwicG9wdXBcIik7XG5cdFx0XHRcdGNvbnN0IG1wb3MgPSBtYXJrZXJ0eHQgJiYgbWFya2VydHh0LnNwbGl0KFwiLFwiKTtcblx0XHRcdFx0Y29uc3QgbG9jYXRlID0gYm9vbGRhdGEoZWxlbSwgXCJsb2NhdGVcIik7XG5cdFx0XHRcdGNvbnN0IG9yaWdpbiA9IGdldE9yaWdpbihlbGVtLCBtcG9zICk7XG5cdFx0XHRcdGNvbnN0IHpvb20gPVx0ZGF0YShlbGVtLCBcInpvb21cIikgfHwgTC5lYXN5bWFwLmNvbmZpZy56b29tO1xuXHRcdFx0XHRjb25zdCB1cmwgPSBkYXRhKGVsZW0sIFwiZ2VvanNvblwiKTtcblx0XHRcdFx0XG5cdFx0XHRcdGNvbnN0IG1hcCA9IEwubWFwKGVsZW0sIHt3b3JsZENvcHlKdW1wOiB0cnVlfSk7IC8vIGNyZWF0ZSB0aGUgbWFwXG5cdFx0XHRcdGlmKG9yaWdpbiAhPSAnZ2VvanNvbicpIHtcblx0XHRcdFx0XHRcdG1hcC5zZXRWaWV3KG9yaWdpbiwgem9vbSk7IC8vIHNldCB0aGUgdmlld1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YXR0cmlidXRlRWFzeW1hcChtYXApO1xuXHRcdFx0XHRcblx0XHRcdFx0aWYobG9jYXRlKSB7XG5cdFx0XHRcdFx0XHRtYXAubG9jYXRlKHsgc2V0VmlldzogdHJ1ZSB9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFRvZG86IGltcHJvdmUgYmFzZWxheWVyIHNlbGVjdGlvbiAobW9yZSBiYXNlbGF5ZXJzKVxuXHRcdFx0XHRjb25zdCBiYXNlID0gdGlsZUxheWVyKChkYXRhKGVsZW0sIFwicHJvdmlkZXJcIikgfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0TC5lYXN5bWFwLmNvbmZpZy5kZWZhdWx0X3Byb3ZpZGVyKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCBlbGVtKTtcblx0XHRcdFx0aWYgKGJhc2UpIHtcblx0XHRcdFx0XHRcdGJhc2UuYWRkVG8obWFwKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCBtYXJrZXIgPSBtcG9zICYmIEwubWFya2VyKG1wb3MpLmFkZFRvKG1hcCk7XG5cblx0XHRcdFx0Ly8gYSBwb3B1cFxuXHRcdFx0XHRjb25zdCBwb3B1cCA9IHBvcHVwdHh0ICYmXG5cdFx0XHRcdFx0XHRcdCAgICAgICAgTC5wb3B1cCh7Y2xvc2VPbkNsaWNrOiBmYWxzZX0pLnNldENvbnRlbnQocG9wdXB0eHQpO1xuXHRcdFx0XHRpZihwb3B1cCkge1xuXHRcdFx0XHRcdFx0aWYgKG1hcmtlcikge1xuXHRcdFx0XHRcdFx0XHRcdG1hcmtlci5iaW5kUG9wdXAocG9wdXApLm9wZW5Qb3B1cCgpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRwb3B1cC5zZXRMYXRMbmcob3JpZ2luKS5vcGVuT24obWFwKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh1cmwpIHtcblx0XHRcdFx0XHRcdC8vIG9ubHkgZGVsaXZlciB0b29sdGlwIHRvIGdlb2pzb24tY2FsbGJhY2sgaWYgdGhlcmUgaXMgbm8gbWFya2VyXG5cdFx0XHRcdFx0XHRhZGRHZW9KU09OKG1hcCwgdXJsLCBvcmlnaW49PVwiZ2VvanNvblwiLCAhbWFya2VyICYmIHRvb2x0aXB0ZXh0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGFkZCBhIHRvb2x0aXBcblx0XHRcdFx0Ly8gaWYgdGhlcmUgaXMgYW4gb2JqZWN0IChtYXJrZXIgb3IgZ2VvanNvbikgdGhlIHRvb2x0aXAgaXMgYWRkZWRcblx0XHRcdFx0Ly8gdG8gdGhlIG9iamVjdCwgb3RoZXJ3aXNlIHRvIHRoZSB0aWxlbGF5ZXJcblx0XHRcdFx0aWYgKHRvb2x0aXB0ZXh0KSB7XG5cdFx0XHRcdFx0XHRpZihtYXJrZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRtYXJrZXIuYmluZFRvb2x0aXAodG9vbHRpcHRleHQpLm9wZW5Ub29sdGlwKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCF1cmwpIHsgLy8gb2ssIHRoZSB0b29sdGlwIGhhcyBubyBnZW9qc29uXG5cdFx0XHRcdFx0XHRcdFx0YmFzZS5iaW5kVG9vbHRpcCh0b29sdGlwdGV4dCkub3BlblRvb2x0aXAob3JpZ2luKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdH1cblxuXG5cdFx0LyogVGhlIHN0YXJ0dXAgc2VxdWVuY2UgKi9cblx0XHRmdW5jdGlvbiBtYXBwaWZ5X2VtKGNscykge1xuXHRcdFx0XHRjb25zdCBtYXBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbHMgfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgTC5lYXN5bWFwLmNvbmZpZy5jbGFzcyk7IFxuXHRcdFx0XHRmb3IodmFyIGk9MDsgaTxtYXBzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRtYXBwaWZ5KG1hcHNbaV0pO1xuXHRcdFx0XHR9XG5cdFx0fVxuXHRcdC8vIHdlIGNyZWF0ZSBzb21ldGhpbmcgbGlrZSAkKGRvY3VtZW50KS5yZWFkeSBvbiBvdXIgb3duXG5cdFx0Ly90byBhdm9pZCBKUXVlcnkgZGVwZW5kZW5jeSAoYW5kIHdlIGRvbid0IHN1cHBvcnQgSUUgYmVmb3JlIDkpLlxuXHRcdHZhciBkb25lID0gZmFsc2U7IC8vIG9ubHkgY2FsbCB0aGlzIG9uY2UhXG5cdFx0ZnVuY3Rpb24gaW5pdF9vbmNlKCkge1xuXHRcdFx0XHRpZighZG9uZSkge1xuXHRcdFx0XHRcdFx0bW9ua2V5UGF0Y2hQbHVnaW5zKCk7XG5cdFx0XHRcdFx0XHRtYXBwaWZ5X2VtKCk7XG5cdFx0XHRcdFx0XHRkb25lID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdH1cblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0X29uY2UpOyAvLyByZWdpc3RlclxuXHRcdGlmKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiKSB7IC8vIHdlIG1heSBiZSBsYXRlXG5cdFx0XHRcdGluaXRfb25jZSgpOyAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIGNhbGwgaXRcblx0XHR9XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgJy4vdGVzdC1sZWFmbGV0LmpzJztcblxuY29uc29sZS5sb2coTCk7XG5cbmltcG9ydCAnLi9jb25maWcuanMnO1xuaW1wb3J0ICcuL2luaXQuanMnO1xuXG4iXSwic291cmNlUm9vdCI6IiJ9